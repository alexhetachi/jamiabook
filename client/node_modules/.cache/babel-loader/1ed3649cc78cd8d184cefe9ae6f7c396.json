{"ast":null,"code":"var _jsxFileName = \"D:\\\\github\\\\others\\\\jamiabook\\\\client\\\\src\\\\components\\\\animation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react'; // import ReactDOM from 'react-dom'\n// import Konva from 'react-Konva'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet c, ctx, W, H;\nlet dots = [];\n\nconst random = (max = 1, min = 0) => Math.random() * (max - min) + min;\n\nclass Dot {\n  constructor(a) {\n    this.x = random(W);\n    this.y = random(H);\n    this.r = 1.5;\n    this.s = {\n      x: random(1, -1),\n      y: random(1, -1)\n    };\n    this.dir = {\n      x: 1,\n      y: 1\n    };\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n\n  update() {\n    if (this.x > W - this.r || this.x < this.r) this.dir.x *= -1;\n    if (this.y > H - this.r || this.y < this.r) this.dir.y *= -1;\n    this.x += this.s.x * this.dir.x;\n    this.y += this.s.y * this.dir.y;\n    this.draw();\n  }\n\n}\n\nconst updateDots = () => {\n  for (let i = 0; i < dots.length; i++) {\n    dots[i].update();\n\n    for (let j = i; j < dots.length; j++) {\n      let d = Math.hypot(dots[i].x - dots[j].x, dots[i].y - dots[j].y);\n\n      if (d < 60 && i !== j) {\n        ctx.beginPath();\n        ctx.strokeStyle = 'rgba(0,255,200,' + 20 / d + ')';\n        ctx.lineWidth = 1;\n        ctx.moveTo(dots[i].x, dots[i].y);\n        ctx.lineTo(dots[j].x, dots[j].y);\n        ctx.stroke();\n      }\n    }\n  }\n};\n\nconst init = () => {\n  // c = document.getElementById(\"cnv\");\n  // c.width = W = window.innerWidth;\n  // c.height = H = window.innerHeight;\n  // Canvas();\n  // ctx = c.getContext(\"2d\");\n  for (let i = 0; i < 200; i++) dots.push(new Dot());\n\n  animate();\n};\n\nconst animate = () => {\n  ctx.clearRect(0, 0, W, H);\n  updateDots();\n  requestAnimationFrame(animate);\n};\n\nconst Canvas = props => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    c = canvasRef.current;\n    c.width = W = window.innerWidth;\n    c.height = H = window.innerHeight;\n    ctx = c.getContext('2d');\n\n    for (let i = 0; i < 200; i++) dots.push(new Dot());\n\n    animate();\n  });\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 11\n  }, this);\n}; // onload = init;\n\n\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\n_c = Canvas;\nexport default init;\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["D:/github/others/jamiabook/client/src/components/animation.js"],"names":["React","useRef","useEffect","c","ctx","W","H","dots","random","max","min","Math","Dot","constructor","a","x","y","r","s","dir","draw","beginPath","fillStyle","arc","PI","fill","update","updateDots","i","length","j","d","hypot","strokeStyle","lineWidth","moveTo","lineTo","stroke","init","push","animate","clearRect","requestAnimationFrame","Canvas","props","canvasRef","current","width","window","innerWidth","height","innerHeight","getContext"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\n// import ReactDOM from 'react-dom'\r\n// import Konva from 'react-Konva'\r\n\r\nlet c, ctx, W, H;\r\nlet dots = [];\r\n\r\nconst random = (max = 1, min = 0) => Math.random() * (max - min) + min;\r\n\r\nclass Dot {\r\n   constructor(a) {\r\n      this.x = random(W)\r\n      this.y = random(H)\r\n      this.r = 1.5\r\n      this.s = { x: random(1, -1), y: random(1, -1) }\r\n      this.dir = { x: 1, y: 1 }\r\n   }\r\n   draw() {\r\n      ctx.beginPath()\r\n      ctx.fillStyle = 'white'\r\n      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI)\r\n      ctx.fill()\r\n   }\r\n   update() {\r\n      if (this.x > W - this.r || this.x < this.r) this.dir.x *= -1\r\n      if (this.y > H - this.r || this.y < this.r) this.dir.y *= -1\r\n      this.x += this.s.x * this.dir.x\r\n      this.y += this.s.y * this.dir.y\r\n      this.draw()\r\n   }\r\n}\r\n\r\nconst updateDots = () => {\r\n   for (let i = 0; i < dots.length; i++) {\r\n      dots[i].update();\r\n      for (let j = i; j < dots.length; j++) {\r\n         let d = Math.hypot(dots[i].x - dots[j].x, dots[i].y - dots[j].y)\r\n         if (d < 60 && i !== j) {\r\n            ctx.beginPath()\r\n            ctx.strokeStyle = 'rgba(0,255,200,' + 20 / d + ')'\r\n            ctx.lineWidth = 1\r\n            ctx.moveTo(dots[i].x, dots[i].y);\r\n            ctx.lineTo(dots[j].x, dots[j].y);\r\n            ctx.stroke();\r\n         }\r\n      }\r\n   }\r\n}\r\n\r\nconst init = () => {\r\n   // c = document.getElementById(\"cnv\");\r\n\r\n   // c.width = W = window.innerWidth;\r\n   // c.height = H = window.innerHeight;\r\n   // Canvas();\r\n   // ctx = c.getContext(\"2d\");\r\n   for (let i = 0; i < 200; i++) dots.push(new Dot())\r\n   animate();\r\n};\r\n\r\nconst animate = () => {\r\n   ctx.clearRect(0, 0, W, H);\r\n   updateDots();\r\n   requestAnimationFrame(animate);\r\n};\r\n\r\n\r\nconst Canvas = props => {\r\n   const canvasRef = useRef(null)\r\n   useEffect(() => {\r\n      c = canvasRef.current\r\n      c.width = W = window.innerWidth;\r\n      c.height = H = window.innerHeight;\r\n      ctx = c.getContext('2d')\r\n      for (let i = 0; i < 200; i++) dots.push(new Dot())\r\n      animate();\r\n   })\r\n   return <canvas ref={canvasRef} {...props} />\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// onload = init;\r\nexport default init;\r\n"]},"metadata":{},"sourceType":"module"}