{"ast":null,"code":"var _jsxFileName = \"D:\\\\github\\\\others\\\\jamiabook\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport '../styles/commonauth.css';\nimport '../styles/loginseperate.css';\nimport { connect } from 'react-redux';\nimport { login } from '../actions/authActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: ''\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      }); // console.log(this.state.email)\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (!email || !password) {\n        this.setState({\n          msg: 'Please enter all fields.'\n        });\n      } else if (email.trim() === '' || password.trim() === '') {\n        this.setState({\n          msg: 'Invalid fields.'\n        });\n      } else if (reg.test(email) === false) {\n        this.setState({\n          msg: 'Invaild email.'\n        });\n      } else if (password.length < 5 || password.length > 25) {\n        this.setState({\n          msg: 'Password must contain 5-25 characters.'\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n        const user = {\n          email: this.state.email,\n          password: this.state.password\n        };\n        this.props.login(user);\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.error !== this.props.error) {\n      //illogical but working\n      // console.log('worked: '+prevProps.error+\" 2nd: \"+this.props.error)\n      this.setState({\n        msg: this.props.error.msg\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"html\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row myrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/connect.png\",\n              alt: \"\",\n              className: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"desc\",\n              children: [\"Welcome to the awesome world \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 74\n              }, this), \"inside \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 87\n              }, this), \"\\u2665 JAMIA MILLIA ISLAMIA \\u2665\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-6 center\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              method: \"post\",\n              class: \"right\",\n              onSubmit: this.onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"heading\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"err\",\n                children: this.state.msg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"email\",\n                type: \"text\",\n                class: \"frm\",\n                placeholder: \"Email Address\",\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"password\",\n                type: \"password\",\n                class: \"frm\",\n                placeholder: \"Password\",\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"loginbtn\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                class: \"loginuser\",\n                href: \"/signup\",\n                children: \"Not a User? Sign Up Instead\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  error: state.error.msg\n});\n\nexport default connect(mapStateToProps, {\n  login\n})(Login); // export default Login;","map":{"version":3,"sources":["D:/github/others/jamiabook/client/src/components/Login.js"],"names":["React","Component","connect","login","Login","state","email","password","onChange","e","setState","target","name","value","onSubmit","preventDefault","reg","msg","trim","test","length","user","props","componentDidUpdate","prevProps","error","render","mapStateToProps","isAuthenticated","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../styles/commonauth.css'\r\nimport '../styles/loginseperate.css'\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../actions/authActions';\r\n\r\nclass Login extends Component {\r\n\r\n    state = {\r\n        email:'',\r\n        password:'',\r\n    }\r\n\r\n    onChange=(e)=>{\r\n    this.setState({[e.target.name]:e.target.value})\r\n    // console.log(this.state.email)\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault()\r\n        const { email, password } = this.state\r\n        let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n        if(!email || !password){\r\n            this.setState({msg:'Please enter all fields.'})\r\n        }else if(email.trim()==='' || password.trim()===''){\r\n            this.setState({msg:'Invalid fields.'})\r\n        }else if(reg.test(email) === false){\r\n            this.setState({ msg:'Invaild email.' })\r\n        }else if( password.length < 5 || password.length > 25 ){\r\n            this.setState({ msg:'Password must contain 5-25 characters.' })\r\n        }else{\r\n            this.setState({msg:null})\r\n            const user = {\r\n                email:this.state.email,\r\n                password:this.state.password\r\n            };\r\n            this.props.login(user)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.error !== this.props.error){ //illogical but working\r\n            // console.log('worked: '+prevProps.error+\" 2nd: \"+this.props.error)\r\n            this.setState({ msg:this.props.error.msg })\r\n        }\r\n    }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"html\">\r\n            <div className=\"body\">\r\n                <div className=\"row myrow\">\r\n                    <div className=\"col-md-6 center\">\r\n                        <img src=\"images/connect.png\" alt=\"\" className=\"logo\"/>\r\n                        \r\n                        <p className=\"desc\">Welcome to the awesome world <br />inside <br />♥ JAMIA MILLIA ISLAMIA ♥</p>\r\n                        {/* <canvas id=\"cnv\"></canvas> */}\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6 center\">\r\n                        <form method=\"post\" class=\"right\" onSubmit={this.onSubmit}>\r\n                            <h1 class=\"heading\">Log In</h1>\r\n                            {/* <br/> */}\r\n                            <p id=\"err\">{this.state.msg}</p>\r\n                            <input name=\"email\" type=\"text\" class=\"frm\" placeholder=\"Email Address\" onChange={this.onChange}/>\r\n                            <br/>\r\n                            <input name=\"password\" type=\"password\" class=\"frm\" placeholder=\"Password\" onChange={this.onChange}/>\r\n                            \r\n                            <button type=\"submit\" class=\"loginbtn\">Log In</button>\r\n                            <br/>\r\n                            <a class=\"loginuser\" href=\"/signup\">Not a User? Sign Up Instead</a>\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=state=>({\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n    error:state.error.msg\r\n});\r\n\r\nexport default connect(mapStateToProps, { login } )(Login);\r\n// export default Login;\r\n"]},"metadata":{},"sourceType":"module"}