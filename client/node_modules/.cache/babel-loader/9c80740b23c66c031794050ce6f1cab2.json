{"ast":null,"code":"var _jsxFileName = \"D:\\\\github\\\\others\\\\jamiabook\\\\client\\\\src\\\\components\\\\animation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react'; // import ReactDOM from 'react-dom'\n// import Konva from 'react-Konva'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet c, ctx, W, H;\nlet dots = [];\n\nconst random = (max = 1, min = 0) => Math.random() * (max - min) + min;\n\nclass Dot {\n  constructor(a) {\n    this.x = random(W);\n    this.y = random(H);\n    this.r = 1.5;\n    this.s = {\n      x: random(1, -1),\n      y: random(1, -1)\n    };\n    this.dir = {\n      x: 1,\n      y: 1\n    };\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n\n  update() {\n    if (this.x > W - this.r || this.x < this.r) this.dir.x *= -1;\n    if (this.y > H - this.r || this.y < this.r) this.dir.y *= -1;\n    this.x += this.s.x * this.dir.x;\n    this.y += this.s.y * this.dir.y;\n    this.draw();\n  }\n\n}\n\nconst updateDots = () => {\n  for (let i = 0; i < dots.length; i++) {\n    dots[i].update();\n\n    for (let j = i; j < dots.length; j++) {\n      let d = Math.hypot(dots[i].x - dots[j].x, dots[i].y - dots[j].y);\n\n      if (d < 60 && i !== j) {\n        ctx.beginPath();\n        ctx.strokeStyle = 'rgba(0,255,200,' + 20 / d + ')';\n        ctx.lineWidth = 1;\n        ctx.moveTo(dots[i].x, dots[i].y);\n        ctx.lineTo(dots[j].x, dots[j].y);\n        ctx.stroke();\n      }\n    }\n  }\n};\n\nconst init = () => {\n  // c = document.getElementById(\"cnv\");\n  // c.width = W = window.innerWidth;\n  // c.height = H = window.innerHeight;\n  ctx = c.getContext(\"2d\");\n\n  for (let i = 0; i < 200; i++) dots.push(new Dot());\n\n  animate();\n};\n\nconst animate = () => {\n  ctx.clearRect(0, 0, W, H);\n  updateDots();\n  requestAnimationFrame(animate);\n};\n\nconst Canvas = props => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    c = canvasRef.current;\n    c.width = W = window.innerWidth;\n    c.height = H = window.innerHeight;\n    ctx = c.getContext('2d');\n  });\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 11\n  }, this);\n}; // onload = init;\n\n\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\n_c = Canvas;\nexport default init;\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["D:/github/others/jamiabook/client/src/components/animation.js"],"names":["React","useRef","useEffect","c","ctx","W","H","dots","random","max","min","Math","Dot","constructor","a","x","y","r","s","dir","draw","beginPath","fillStyle","arc","PI","fill","update","updateDots","i","length","j","d","hypot","strokeStyle","lineWidth","moveTo","lineTo","stroke","init","getContext","push","animate","clearRect","requestAnimationFrame","Canvas","props","canvasRef","current","width","window","innerWidth","height","innerHeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC,C,CACA;AACA;;;AAEA,IAAIC,CAAJ,EAAOC,GAAP,EAAYC,CAAZ,EAAeC,CAAf;AACA,IAAIC,IAAI,GAAG,EAAX;;AAEA,MAAMC,MAAM,GAAG,CAACC,GAAG,GAAC,CAAL,EAAQC,GAAG,GAAC,CAAZ,KAAkBC,IAAI,CAACH,MAAL,MAAiBC,GAAG,GAAGC,GAAvB,IAA8BA,GAA/D;;AAEA,MAAME,GAAN,CAAU;AACPC,EAAAA,WAAW,CAACC,CAAD,EAAG;AACX,SAAKC,CAAL,GAASP,MAAM,CAACH,CAAD,CAAf;AACA,SAAKW,CAAL,GAASR,MAAM,CAACF,CAAD,CAAf;AACA,SAAKW,CAAL,GAAS,GAAT;AACA,SAAKC,CAAL,GAAS;AAAEH,MAAAA,CAAC,EAACP,MAAM,CAAC,CAAD,EAAG,CAAC,CAAJ,CAAV;AAAiBQ,MAAAA,CAAC,EAACR,MAAM,CAAC,CAAD,EAAG,CAAC,CAAJ;AAAzB,KAAT;AACA,SAAKW,GAAL,GAAW;AAACJ,MAAAA,CAAC,EAAC,CAAH;AAAKC,MAAAA,CAAC,EAAC;AAAP,KAAX;AACF;;AACDI,EAAAA,IAAI,GAAG;AACJhB,IAAAA,GAAG,CAACiB,SAAJ;AACAjB,IAAAA,GAAG,CAACkB,SAAJ,GAAgB,OAAhB;AACAlB,IAAAA,GAAG,CAACmB,GAAJ,CAAQ,KAAKR,CAAb,EAAgB,KAAKC,CAArB,EAAwB,KAAKC,CAA7B,EAAgC,CAAhC,EAAmC,IAAIN,IAAI,CAACa,EAA5C;AACApB,IAAAA,GAAG,CAACqB,IAAJ;AACF;;AACDC,EAAAA,MAAM,GAAG;AACN,QAAG,KAAKX,CAAL,GAAOV,CAAC,GAAC,KAAKY,CAAd,IAAiB,KAAKF,CAAL,GAAO,KAAKE,CAAhC,EAAkC,KAAKE,GAAL,CAASJ,CAAT,IAAY,CAAC,CAAb;AAClC,QAAG,KAAKC,CAAL,GAAOV,CAAC,GAAC,KAAKW,CAAd,IAAiB,KAAKD,CAAL,GAAO,KAAKC,CAAhC,EAAkC,KAAKE,GAAL,CAASH,CAAT,IAAY,CAAC,CAAb;AAClC,SAAKD,CAAL,IAAU,KAAKG,CAAL,CAAOH,CAAP,GAAS,KAAKI,GAAL,CAASJ,CAA5B;AACA,SAAKC,CAAL,IAAU,KAAKE,CAAL,CAAOF,CAAP,GAAS,KAAKG,GAAL,CAASH,CAA5B;AACA,SAAKI,IAAL;AACF;;AApBM;;AAuBV,MAAMO,UAAU,GAAG,MAAK;AACrB,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACrB,IAAI,CAACsB,MAApB,EAA4BD,CAAC,EAA7B,EAAgC;AAC7BrB,IAAAA,IAAI,CAACqB,CAAD,CAAJ,CAAQF,MAAR;;AACA,SAAI,IAAII,CAAC,GAACF,CAAV,EAAaE,CAAC,GAACvB,IAAI,CAACsB,MAApB,EAA4BC,CAAC,EAA7B,EAAgC;AAC1B,UAAIC,CAAC,GAAGpB,IAAI,CAACqB,KAAL,CAAWzB,IAAI,CAACqB,CAAD,CAAJ,CAAQb,CAAR,GAAYR,IAAI,CAACuB,CAAD,CAAJ,CAAQf,CAA/B,EAAiCR,IAAI,CAACqB,CAAD,CAAJ,CAAQZ,CAAR,GAAYT,IAAI,CAACuB,CAAD,CAAJ,CAAQd,CAArD,CAAR;;AACA,UAAGe,CAAC,GAAC,EAAF,IAAMH,CAAC,KAAGE,CAAb,EAAe;AACZ1B,QAAAA,GAAG,CAACiB,SAAJ;AACAjB,QAAAA,GAAG,CAAC6B,WAAJ,GAAkB,oBAAoB,KAAGF,CAAvB,GAA2B,GAA7C;AACA3B,QAAAA,GAAG,CAAC8B,SAAJ,GAAiB,CAAjB;AACA9B,QAAAA,GAAG,CAAC+B,MAAJ,CAAW5B,IAAI,CAACqB,CAAD,CAAJ,CAAQb,CAAnB,EAAsBR,IAAI,CAACqB,CAAD,CAAJ,CAAQZ,CAA9B;AACAZ,QAAAA,GAAG,CAACgC,MAAJ,CAAW7B,IAAI,CAACuB,CAAD,CAAJ,CAAQf,CAAnB,EAAsBR,IAAI,CAACuB,CAAD,CAAJ,CAAQd,CAA9B;AACAZ,QAAAA,GAAG,CAACiC,MAAJ;AACF;AACN;AACH;AACH,CAfD;;AAiBA,MAAMC,IAAI,GAAG,MAAM;AAChB;AAEA;AACA;AACAlC,EAAAA,GAAG,GAAGD,CAAC,CAACoC,UAAF,CAAa,IAAb,CAAN;;AACA,OAAI,IAAIX,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,GAAd,EAAkBA,CAAC,EAAnB,EAAuBrB,IAAI,CAACiC,IAAL,CAAU,IAAI5B,GAAJ,EAAV;;AACvB6B,EAAAA,OAAO;AACT,CARD;;AAUA,MAAMA,OAAO,GAAG,MAAM;AACnBrC,EAAAA,GAAG,CAACsC,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBrC,CAApB,EAAuBC,CAAvB;AACAqB,EAAAA,UAAU;AACVgB,EAAAA,qBAAqB,CAACF,OAAD,CAArB;AACF,CAJD;;AAOA,MAAMG,MAAM,GAAGC,KAAK,IAAI;AAAA;;AAErB,QAAMC,SAAS,GAAG7C,MAAM,CAAC,IAAD,CAAxB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,CAAC,GAAG2C,SAAS,CAACC,OAAd;AACA5C,IAAAA,CAAC,CAAC6C,KAAF,GAAU3C,CAAC,GAAG4C,MAAM,CAACC,UAArB;AACA/C,IAAAA,CAAC,CAACgD,MAAF,GAAW7C,CAAC,GAAG2C,MAAM,CAACG,WAAtB;AACAhD,IAAAA,GAAG,GAAGD,CAAC,CAACoC,UAAF,CAAa,IAAb,CAAN;AACD,GALQ,CAAT;AAMA,sBAAO;AAAQ,IAAA,GAAG,EAAEO,SAAb;AAAA,OAA4BD;AAA5B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAXF,C,CAiBA;;;GAjBMD,M;;KAAAA,M;AAkBN,eAAeN,IAAf","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\n// import ReactDOM from 'react-dom'\r\n// import Konva from 'react-Konva'\r\n\r\nlet c, ctx, W, H;\r\nlet dots = [];\r\n\r\nconst random = (max=1, min=0) => Math.random() * (max - min) + min;\r\n\r\nclass Dot {\r\n   constructor(a){    \r\n      this.x = random(W)\r\n      this.y = random(H)\r\n      this.r = 1.5\r\n      this.s = { x:random(1,-1),y:random(1,-1)}\r\n      this.dir = {x:1,y:1}\r\n   }\r\n   draw() {\r\n      ctx.beginPath()\r\n      ctx.fillStyle = 'white'\r\n      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI)\r\n      ctx.fill()\r\n   }\r\n   update() {\r\n      if(this.x>W-this.r||this.x<this.r)this.dir.x*=-1\r\n      if(this.y>H-this.r||this.y<this.r)this.dir.y*=-1\r\n      this.x += this.s.x*this.dir.x\r\n      this.y += this.s.y*this.dir.y\r\n      this.draw()\r\n   }\r\n}\r\n\r\nconst updateDots = ()=> {\r\n   for(let i=0; i<dots.length; i++){    \r\n      dots[i].update();    \r\n      for(let j=i; j<dots.length; j++){    \r\n            let d = Math.hypot(dots[i].x - dots[j].x,dots[i].y - dots[j].y)\r\n            if(d<60&&i!==j){\r\n               ctx.beginPath()\r\n               ctx.strokeStyle = 'rgba(0,255,200,' + 20/d + ')'\r\n               ctx.lineWidth =  1 \r\n               ctx.moveTo(dots[i].x, dots[i].y);\r\n               ctx.lineTo(dots[j].x, dots[j].y);\r\n               ctx.stroke();\r\n            }      \r\n      }  \r\n   }\r\n}\r\n\r\nconst init = () => {\r\n   // c = document.getElementById(\"cnv\");\r\n\r\n   // c.width = W = window.innerWidth;\r\n   // c.height = H = window.innerHeight;\r\n   ctx = c.getContext(\"2d\");\r\n   for(let i=0;i<200;i++) dots.push(new Dot())\r\n   animate();\r\n};\r\n\r\nconst animate = () => {\r\n   ctx.clearRect(0, 0, W, H);\r\n   updateDots();\r\n   requestAnimationFrame(animate);\r\n};\r\n\r\n\r\nconst Canvas = props => {\r\n  \r\n   const canvasRef = useRef(null)\r\n   \r\n   useEffect(() => {\r\n     c = canvasRef.current\r\n     c.width = W = window.innerWidth;\r\n     c.height = H = window.innerHeight;\r\n     ctx = c.getContext('2d')\r\n   })\r\n   return <canvas ref={canvasRef} {...props}/>\r\n }\r\n \r\n\r\n\r\n\r\n\r\n// onload = init;\r\nexport default init;\r\n"]},"metadata":{},"sourceType":"module"}