{"ast":null,"code":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Konva from 'react-Konva';\nlet c, ctx, W, H;\nlet dots = [];\n\nconst random = (max = 1, min = 0) => Math.random() * (max - min) + min;\n\nclass Dot extends React.Component {\n  constructor(a) {\n    this.x = random(W);\n    this.y = random(H);\n    this.r = 1.5;\n    this.s = {\n      x: random(1, -1),\n      y: random(1, -1)\n    };\n    this.dir = {\n      x: 1,\n      y: 1\n    };\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n\n  update() {\n    if (this.x > W - this.r || this.x < this.r) this.dir.x *= -1;\n    if (this.y > H - this.r || this.y < this.r) this.dir.y *= -1;\n    this.x += this.s.x * this.dir.x;\n    this.y += this.s.y * this.dir.y;\n    this.draw();\n  }\n\n}\n\nconst updateDots = () => {\n  for (let i = 0; i < dots.length; i++) {\n    dots[i].update();\n\n    for (let j = i; j < dots.length; j++) {\n      let d = Math.hypot(dots[i].x - dots[j].x, dots[i].y - dots[j].y);\n\n      if (d < 60 && i !== j) {\n        ctx.beginPath();\n        ctx.strokeStyle = 'rgba(0,255,200,' + 20 / d + ')';\n        ctx.lineWidth = 1;\n        ctx.moveTo(dots[i].x, dots[i].y);\n        ctx.lineTo(dots[j].x, dots[j].y);\n        ctx.stroke();\n      }\n    }\n  }\n};\n\nconst init = () => {\n  c = document.getElementById(\"cnv\");\n  c.width = W = window.innerWidth;\n  c.height = H = window.innerHeight;\n  ctx = c.getContext(\"2d\");\n\n  for (let i = 0; i < 200; i++) dots.push(new Dot());\n\n  animate();\n};\n\nconst animate = () => {\n  ctx.clearRect(0, 0, W, H);\n  updateDots();\n  requestAnimationFrame(animate);\n}; // onload = init;\n\n\nexport default init;","map":{"version":3,"sources":["D:/github/others/jamiabook/client/src/components/animation.js"],"names":["React","ReactDOM","Konva","c","ctx","W","H","dots","random","max","min","Math","Dot","Component","constructor","a","x","y","r","s","dir","draw","beginPath","fillStyle","arc","PI","fill","update","updateDots","i","length","j","d","hypot","strokeStyle","lineWidth","moveTo","lineTo","stroke","init","document","getElementById","width","window","innerWidth","height","innerHeight","getContext","push","animate","clearRect","requestAnimationFrame"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Konva from 'react-Konva'\r\n\r\nlet c, ctx, W, H;\r\nlet dots = [];\r\n\r\nconst random = (max=1, min=0) => Math.random() * (max - min) + min;\r\n\r\nclass Dot extends React.Component {\r\n   constructor(a){    \r\n      this.x = random(W)\r\n      this.y = random(H)\r\n      this.r = 1.5\r\n      this.s = { x:random(1,-1),y:random(1,-1)}\r\n      this.dir = {x:1,y:1}\r\n   }\r\n   draw() {\r\n      ctx.beginPath()\r\n      ctx.fillStyle = 'white'\r\n      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI)\r\n      ctx.fill()\r\n   }\r\n   update() {\r\n      if(this.x>W-this.r||this.x<this.r)this.dir.x*=-1\r\n      if(this.y>H-this.r||this.y<this.r)this.dir.y*=-1\r\n      this.x += this.s.x*this.dir.x\r\n      this.y += this.s.y*this.dir.y\r\n      this.draw()\r\n   }\r\n}\r\n\r\nconst updateDots = ()=> {\r\n   for(let i=0; i<dots.length; i++){    \r\n      dots[i].update();    \r\n      for(let j=i; j<dots.length; j++){    \r\n            let d = Math.hypot(dots[i].x - dots[j].x,dots[i].y - dots[j].y)\r\n            if(d<60&&i!==j){\r\n               ctx.beginPath()\r\n               ctx.strokeStyle = 'rgba(0,255,200,' + 20/d + ')'\r\n               ctx.lineWidth =  1 \r\n               ctx.moveTo(dots[i].x, dots[i].y);\r\n               ctx.lineTo(dots[j].x, dots[j].y);\r\n               ctx.stroke();\r\n            }      \r\n      }  \r\n   }\r\n}\r\n\r\nconst init = () => {\r\n   c = document.getElementById(\"cnv\");\r\n   c.width = W = window.innerWidth;\r\n   c.height = H = window.innerHeight;\r\n   ctx = c.getContext(\"2d\");\r\n   for(let i=0;i<200;i++) dots.push(new Dot())\r\n   animate();\r\n};\r\n\r\nconst animate = () => {\r\n   ctx.clearRect(0, 0, W, H);\r\n   updateDots();\r\n   requestAnimationFrame(animate);\r\n};\r\n\r\n// onload = init;\r\nexport default init;\r\n"]},"metadata":{},"sourceType":"module"}