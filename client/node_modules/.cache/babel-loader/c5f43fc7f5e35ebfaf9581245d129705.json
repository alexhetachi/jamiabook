{"ast":null,"code":"var _jsxFileName = \"E:\\\\jamia-book\\\\client\\\\src\\\\components\\\\dashboard\\\\post\\\\AddPost.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addPost } from '../../../actions/postActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      myImage: '',\n      discp: '',\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        myImage: e.target.files[0]\n      });\n    };\n\n    this.onTextChange = e => {\n      this.setState({\n        discp: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      console.log('submitting');\n      const formData = new FormData();\n      formData.append('user_id', this.props.user._id);\n      formData.append('fname', this.props.user.fname);\n      formData.append('lname', this.props.user.lname);\n      formData.append('user_img', this.props.user.profile_imgsrc);\n      formData.append('discp', this.state.discp);\n      formData.append('myImage', this.state.myImage); // console.log(formData.get('user_img'))\n\n      if (!this.state.discp.trim() && !this.state.myImage) {\n        this.setState({\n          msg: 'plz enter fields.'\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n        this.props.addPost(formData);\n      } // this.setState({ discp:'' })\n      // this.setState({ myImage:'' })\n\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"create-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          method: \"post\",\n          onSubmit: this.onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"Images/user.png\",\n            class: \"user-create-post\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"create\",\n            id: \"textarea\",\n            placeholder: \"Share Something with the community\",\n            cols: \"50\",\n            rows: \"2\",\n            onChange: this.onTextChange,\n            value: this.state.discp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            class: \"file-input\",\n            id: \"file-choose\",\n            class: \"extreme-right\",\n            name: \"myImage\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"submit-button\",\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  addPost\n})(AddPost); // export default AddPost;","map":{"version":3,"sources":["E:/jamia-book/client/src/components/dashboard/post/AddPost.js"],"names":["React","Component","connect","addPost","AddPost","state","myImage","discp","msg","onChange","e","setState","target","files","onTextChange","value","onSubmit","preventDefault","console","log","formData","FormData","append","props","user","_id","fname","lname","profile_imgsrc","trim","render","mapStateToProps","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,8BAAxB;;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAE5BI,KAF4B,GAEtB;AACFC,MAAAA,OAAO,EAAC,EADN;AAEFC,MAAAA,KAAK,EAAC,EAFJ;AAGFC,MAAAA,GAAG,EAAC;AAHF,KAFsB;;AAAA,SAQ5BC,QAR4B,GAQhBC,CAAD,IAAO;AACd,WAAKC,QAAL,CAAc;AAAEL,QAAAA,OAAO,EAACI,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf;AAAV,OAAd;AACH,KAV2B;;AAAA,SAY5BC,YAZ4B,GAYZJ,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AAAEJ,QAAAA,KAAK,EAACG,CAAC,CAACE,MAAF,CAASG;AAAjB,OAAd;AACH,KAd2B;;AAAA,SAiB5BC,QAjB4B,GAiBjBN,CAAC,IAAI;AACZA,MAAAA,CAAC,CAACO,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAA3C;AACAL,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKC,KAAL,CAAWC,IAAX,CAAgBE,KAAzC;AACAN,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKC,KAAL,CAAWC,IAAX,CAAgBG,KAAzC;AACAP,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4B,KAAKC,KAAL,CAAWC,IAAX,CAAgBI,cAA5C;AACAR,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKjB,KAAL,CAAWE,KAApC;AACAa,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,KAAKjB,KAAL,CAAWC,OAAtC,EAVY,CAWZ;;AACA,UAAG,CAAC,KAAKD,KAAL,CAAWE,KAAX,CAAiBsB,IAAjB,EAAD,IAA4B,CAAC,KAAKxB,KAAL,CAAWC,OAA3C,EAAmD;AAC/C,aAAKK,QAAL,CAAc;AAACH,UAAAA,GAAG,EAAC;AAAL,SAAd;AACH,OAFD,MAEK;AACD,aAAKG,QAAL,CAAc;AAACH,UAAAA,GAAG,EAAC;AAAL,SAAd;AACA,aAAKe,KAAL,CAAWpB,OAAX,CAAmBiB,QAAnB;AACH,OAjBW,CAkBZ;AACA;;AACH,KArC2B;AAAA;;AAuC5BU,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI;AAAK,QAAA,KAAK,EAAC,aAAX;AAAA,gCACA;AAAA,iCAAQ;AAAA,sBAAI,KAAKzB,KAAL,CAAWG;AAAf;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAM,UAAA,MAAM,EAAC,MAAb;AAAoB,UAAA,QAAQ,EAAE,KAAKQ,QAAnC;AAAA,kCACI;AAAK,YAAA,GAAG,EAAC,iBAAT;AAA2B,YAAA,KAAK,EAAC,kBAAjC;AAAoD,YAAA,GAAG,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,IAAI,EAAC,QADT;AAEI,YAAA,EAAE,EAAC,UAFP;AAGI,YAAA,WAAW,EAAC,oCAHhB;AAII,YAAA,IAAI,EAAC,IAJT;AAKI,YAAA,IAAI,EAAC,GALT;AAMI,YAAA,QAAQ,EAAE,KAAKF,YANnB;AAOI,YAAA,KAAK,EAAE,KAAKT,KAAL,CAAWE;AAPtB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAWI;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,KAAK,EAAC,YAFV;AAGI,YAAA,EAAE,EAAC,aAHP;AAII,YAAA,KAAK,EAAC,eAJV;AAKI,YAAA,IAAI,EAAC,SALT;AAMI,YAAA,QAAQ,EAAE,KAAKE;AANnB;AAAA;AAAA;AAAA;AAAA,kBAXJ,eAiCI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,KAAK,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA0CH;;AAlF2B;;AAqFhC,MAAMsB,eAAe,GAAG1B,KAAK,KAAK;AAC9BmB,EAAAA,IAAI,EAACnB,KAAK,CAAC2B,IAAN,CAAWR;AADc,CAAL,CAA7B;;AAIA,eAAetB,OAAO,CAAC6B,eAAD,EAAkB;AAAE5B,EAAAA;AAAF,CAAlB,CAAP,CAAsCC,OAAtC,CAAf,C,CACA","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost } from '../../../actions/postActions';\r\n\r\nclass AddPost extends Component {\r\n\r\n    state={\r\n        myImage:'',\r\n        discp:'',\r\n        msg:null\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ myImage:e.target.files[0] })\r\n    }\r\n\r\n    onTextChange = (e) => {\r\n        this.setState({ discp:e.target.value })\r\n    }\r\n\r\n//  async\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        console.log('submitting')\r\n        const formData = new FormData();\r\n        \r\n        formData.append('user_id', this.props.user._id);\r\n        formData.append('fname', this.props.user.fname);\r\n        formData.append('lname', this.props.user.lname);\r\n        formData.append('user_img', this.props.user.profile_imgsrc);\r\n        formData.append('discp', this.state.discp);\r\n        formData.append('myImage', this.state.myImage);\r\n        // console.log(formData.get('user_img'))\r\n        if(!this.state.discp.trim() && !this.state.myImage){\r\n            this.setState({msg:'plz enter fields.'})\r\n        }else{\r\n            this.setState({msg:null})\r\n            this.props.addPost(formData);\r\n        }\r\n        // this.setState({ discp:'' })\r\n        // this.setState({ myImage:'' })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div class=\"create-post\">\r\n                <center><p>{this.state.msg}</p></center>\r\n                <form method='post' onSubmit={this.onSubmit}>\r\n                    <img src=\"Images/user.png\" class=\"user-create-post\" alt=\"\"/>\r\n                    <textarea \r\n                        name=\"create\" \r\n                        id=\"textarea\" \r\n                        placeholder=\"Share Something with the community\" \r\n                        cols=\"50\" \r\n                        rows=\"2\"\r\n                        onChange={this.onTextChange}\r\n                        value={this.state.discp}\r\n                    />    \r\n                    <input\r\n                        type=\"file\"\r\n                        class=\"file-input\"\r\n                        id=\"file-choose\" \r\n                        class=\"extreme-right\"\r\n                        name=\"myImage\"\r\n                        onChange={this.onChange}  \r\n                    />\r\n                    {/* <label for=\"file-choose\" class=\"svg-pos\"/> */}\r\n                    {/* <table class=\"extreme-right\">\r\n                        <tr>\r\n                            <td>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40px\" height=\"40px\" fill=\"currentColor\" class=\"bi bi-image\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n                                <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"/>\r\n                                </svg>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><button type=\"submit\" class=\"submit-button\">Post</button></td>\r\n                        </tr>\r\n                    </table> */}\r\n                    <button type=\"submit\" class=\"submit-button\">Post</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user:state.auth.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addPost })(AddPost);\r\n// export default AddPost;"]},"metadata":{},"sourceType":"module"}